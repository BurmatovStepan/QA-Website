{% load static %}

<header>
  <a href="{% url "homepage" %}">
    <img src="{% static "assets/favicon.ico" %}"
         alt="AskMe"
         class="website-icon"
    >
  </a>
  <form class="search-bar" method="GET">
    <input type="search"
           name="query"
           class="search-bar__input"
           placeholder="Search"
           required
    >
  </form>
  <a class="new-question-button" href="{% url "new_question" %}">New question</a>

  {% if current_user %}

    <div class="profile profile--mini profile--signed-in">
      <img src="{% static current_user.avatar %}"
          alt="avatar"
          class="profile__avatar"
      >
      <a href="{% url "user" current_user.id %}" class="profile__name">{{ current_user.displayed_name }}</a>

      <div class="profile__actions">
        <a href="{% url "settings" %}">Settings</a>
        <span class="profile__actions-separator">/</span>
        <a href="{{ request.path }}">Logout</a>

        {% include "snippets/theme-switch.html" with component_name="profile__theme-switch" %}
      </div>
    </div>

  {% else %}

    <div class="profile profile--mini profile--signed-out">
      <div class="profile__actions">
        <a href="{% url "login" %}">Log in</a>
        <span class="profile__actions-separator">/</span>
        <a href="{% url "register" %}">Register</a>

        {% include "snippets/theme-switch.html" with component_name="profile__theme-switch" %}
        </div>
      </div>
    </div>

  {% endif %}

</header>
